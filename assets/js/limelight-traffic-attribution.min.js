var UtmCookie;UtmCookie=function(){function e(e){null==e&&(e={}),this._cookieNamePrefix="_ll_ta_",this._domain=e.domain,this._sessionLength=e.sessionLength||1,this._cookieExpiryDays=e.cookieExpiryDays||365,this._additionalParams=e.additionalParams||[],this._utmParams=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],this.writeInitialReferrer(),this.writeLastReferrer(),this.writeInitialLandingPageUrl(),this.setCurrentSession(),this.additionalParamsPresentInUrl()&&this.writeAdditionalParams(),this.utmPresentInUrl()&&this.writeUtmCookieFromParams()}return e.prototype.createCookie=function(e,t,i,o,r,n){var a,s,d,u,h,l;l=null,i&&((h=new Date).setTime(h.getTime()+24*i*60*60*1e3),l=h),s=null!=l?"; expires="+l.toGMTString():"",d=null!=o?"; path="+o:"; path=/",a=null!=r?"; domain="+r:"",u=null!=n?"; secure":"",document.cookie=this._cookieNamePrefix+e+"="+escape(t)+s+d+a+u},e.prototype.readCookie=function(e){var t,i,o,r;for(r=this._cookieNamePrefix+e+"=",i=document.cookie.split(";"),o=0;o<i.length;){for(t=i[o];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(r))return t.substring(r.length,t.length);o++}return null},e.prototype.eraseCookie=function(e){this.createCookie(e,"",-1,null,this._domain)},e.prototype.getParameterByName=function(e){var t,i,o;return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i="[\\?&]"+e+"=([^&#]*)",t=new RegExp(i),(o=t.exec(window.location.search))?decodeURIComponent(o[1].replace(/\+/g," ")):""},e.prototype.additionalParamsPresentInUrl=function(){var e,t,i,o;for(e=0,t=(o=this._additionalParams).length;e<t;e++)if(i=o[e],this.getParameterByName(i))return!0;return!1},e.prototype.utmPresentInUrl=function(){var e,t,i,o;for(e=0,t=(o=this._utmParams).length;e<t;e++)if(i=o[e],this.getParameterByName(i))return!0;return!1},e.prototype.writeCookie=function(e,t){this.createCookie(e,t,this._cookieExpiryDays,null,this._domain)},e.prototype.writeAdditionalParams=function(){var e,t,i,o,r;for(e=0,t=(o=this._additionalParams).length;e<t;e++)i=o[e],r=this.getParameterByName(i),this.writeCookie(i,r)},e.prototype.writeUtmCookieFromParams=function(){var e,t,i,o,r;for(e=0,t=(o=this._utmParams).length;e<t;e++)i=o[e],r=this.getParameterByName(i),this.writeCookie(i,r)},e.prototype.writeCookieOnce=function(e,t){this.readCookie(e)||this.writeCookie(e,t)},e.prototype._sameDomainReferrer=function(e){var t;return t=document.location.hostname,e.indexOf(this._domain)>-1||e.indexOf(t)>-1},e.prototype._isInvalidReferrer=function(e){return""===e||void 0===e},e.prototype.writeInitialReferrer=function(){var e;e=document.referrer,this._isInvalidReferrer(e)&&(e="direct"),this.writeCookieOnce("referrer",e)},e.prototype.writeLastReferrer=function(){var e;e=document.referrer,this._sameDomainReferrer(e)||(this._isInvalidReferrer(e)&&(e="direct"),this.writeCookie("last_referrer",e))},e.prototype.writeInitialLandingPageUrl=function(){var e;(e=this.cleanUrl())&&this.writeCookieOnce("initial_landing_page",e)},e.prototype.initialReferrer=function(){return this.readCookie("referrer")},e.prototype.lastReferrer=function(){return this.readCookie("last_referrer")},e.prototype.initialLandingPageUrl=function(){return this.readCookie("initial_landing_page")},e.prototype.incrementVisitCount=function(){var e,t;e=parseInt(this.readCookie("visits"),10),t=1,t=isNaN(e)?1:e+1,this.writeCookie("visits",t)},e.prototype.visits=function(){return this.readCookie("visits")},e.prototype.setCurrentSession=function(){this.readCookie("current_session")||(this.createCookie("current_session","true",this._sessionLength/24,null,this._domain),this.incrementVisitCount())},e.prototype.cleanUrl=function(){var e;return e=window.location.search.replace(/utm_[^&]+&?/g,"").replace(/&$/,"").replace(/^\?$/,""),window.location.origin+window.location.pathname+e+window.location.hash},e.prototype.utm_medium=function(){return this.readCookie("utm_medium")},e.prototype.utm_source=function(){return this.readCookie("utm_source")},e.prototype.utm_campaign=function(){return this.readCookie("utm_campaign")},e.prototype.utm_term=function(){return this.readCookie("utm_term")},e.prototype.utm_content=function(){return this.readCookie("utm_content")},e.prototype.device_category=function(){return isMobile.phone?"mobile":isMobile.tablet?"tablet":"desktop"},e}(),function(e){var t=/iPhone/i,i=/iPod/i,o=/iPad/i,r=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,n=/Android/i,a=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,s=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,u=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,h=/BlackBerry/i,l=/BB10/i,p=/Opera Mini/i,c=/(CriOS|Chrome)(?=.*\bMobile\b)/i,m=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,f=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),_=function(e,t){return e.test(t)},w=function(e){var w=e||navigator.userAgent,y=w.split("[FBAN");if(void 0!==y[1]&&(w=y[0]),void 0!==(y=w.split("Twitter"))[1]&&(w=y[0]),this.apple={phone:_(t,w),ipod:_(i,w),tablet:!_(t,w)&&_(o,w),device:_(t,w)||_(i,w)||_(o,w)},this.amazon={phone:_(a,w),tablet:!_(a,w)&&_(s,w),device:_(a,w)||_(s,w)},this.android={phone:_(a,w)||_(r,w),tablet:!_(a,w)&&!_(r,w)&&(_(s,w)||_(n,w)),device:_(a,w)||_(s,w)||_(r,w)||_(n,w)},this.windows={phone:_(d,w),tablet:_(u,w),device:_(d,w)||_(u,w)},this.other={blackberry:_(h,w),blackberry10:_(l,w),opera:_(p,w),firefox:_(m,w),chrome:_(c,w),device:_(h,w)||_(l,w)||_(p,w)||_(m,w)||_(c,w)},this.seven_inch=_(f,w),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},y=function(){var e=new w;return e.Class=w,e};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=w:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=y():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=y()):e.isMobile=y()}(this);